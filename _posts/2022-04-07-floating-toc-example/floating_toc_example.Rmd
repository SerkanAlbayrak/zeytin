---
title: "A poor man's TOC in {distill}"
description: |
  A floating Table of Contents (TOC) in {distill} in fixed position with Toggle (show/hide) button and Scrolling Active States.
author:
  - first_name: "Raif Serkan"
    last_name: "Albayrak"
    url: https://github.com/SerkanAlbayrak
    affiliation: İzmir Ekonomi University
    affiliation_url: https://www.ieu.edu.tr
    orcid_id: 0000-0002-8409-0140
categories:
  - R Markdown
  - Distill
  - CSS
  - JavaScript
  - HTML
draft: false #Draft yapmak için anahtar
output:
  distill::distill_article:
    toc: true
    toc_depth: 6
    toc_float: true
    css: toc-styles.css
    self_contained: false
---

<!-- TOC JAVASCRIPT ELEMENTS -->
<script>
function toggle () {
  document.getElementById("TOC").classList.toggle("hide");
};

window.addEventListener('DOMContentLoaded', () => {

  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      const id = entry.target.getAttribute('id');
      if (entry.intersectionRatio > 0) {
        document.querySelector(`[href="#${id}"]`).parentElement.classList.add('active');
      } else {
        document.querySelector(`[href="#${id}"]`).parentElement.classList.remove('active');
      }
    });
  });

  // Track all headings that have an `id` applied
  document.querySelectorAll('h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]').forEach((h1, h2, h3, h4, h5, h6) => {
    observer.observe(h1, h2, h3, h4, h5, h6);
  });
  
});
</script>

<!-- TOC HTML ELEMENTS -->
<input type="button" class="d-article-with-toc" id="TOC" value="&#x2630" title="Toggle (Hide/Show) Table of Contents" alt="Toggle button for hiding/showing the Table of Contents" onclick="toggle()" style="padding:7px; border: 0px;"/>

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```


## Crumbs from a poor man's table (of contents)



### Floating TOC in fixed position  


### Toggle (show/hide) button   


### Scrolling Active States  

It was Rich Pauloo (author of Stack Overflow question mentioned above) who pointed out to a scrolling active state implementation, "such that the TOC responds to the header the user is currently on".



## Layouts

### Default layout

##### l-body

```{r, layout="l-body", fig.width=6, fig.height=1.5}
library(ggplot2)
ggplot(diamonds, aes(carat, price)) + geom_smooth() +
  facet_grid(~ cut)
```

### Wider layouts

##### l-body-outset

```{r, layout="l-body-outset", fig.width=6, fig.height=1.5}
library(ggplot2)
ggplot(diamonds, aes(carat, price)) + geom_smooth() +
  facet_grid(~ cut)
```

##### l-page

```{r, layout="l-page", fig.width=6, fig.height=1.5}
library(ggplot2)
ggplot(diamonds, aes(carat, price)) + geom_smooth() +
  facet_grid(~ cut)
```

### Tables with Knitr kable

```{r, layout="l-body-outset"}
library(knitr)
kable(head(mtcars))
```

### Paged tables

```{r, layout="l-body-outset"}
library(rmarkdown)
paged_table(mtcars)
```

```{r, layout="l-screen-inset"}
library(rmarkdown)
paged_table(mtcars)
```

### Full screen layout

##### l-screen-inset shaded

```{r, layout="l-screen-inset shaded"}
library(leaflet)
leaflet() %>%
  addTiles() %>%  # Add default OpenStreetMap map tiles
  addMarkers(lng=174.768, lat=-36.852, popup="The birthplace of R")
```

##### l-screen-inset

```{r, layout="l-screen-inset"}
library(leaflet)
leaflet() %>%
  addTiles() %>%  # Add default OpenStreetMap map tiles
  addMarkers(lng=174.768, lat=-36.852, popup="The birthplace of R")
```

##### l-screen

```{r, layout="l-screen"}
library(leaflet)
leaflet() %>%
  addTiles() %>%  # Add default OpenStreetMap map tiles
  addMarkers(lng=174.768, lat=-36.852, popup="The birthplace of R")
```

# Heading h1

## Heading h2

### Heading h3

#### Heading h4

##### Heading h5

###### Heading h6
